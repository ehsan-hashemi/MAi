<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPT-4o-mini Example</title>
</head>
<body>
    <h1>GPT-4o-mini Example</h1>
    <div id="response"></div>

    <script>
        async function getAIResponse() {
            const apiUrl = 'https://ai.liara.ir/api/v1/6846f3cbf1adf322202df4f1/chat/completions';
            const apiKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySUQiOiI2ODE0OGQ5NDUwOTYzZjkzNDg4OTM1Y2UiLCJ0eXBlIjoiYXV0aCIsImlhdCI6MTc0OTU1MDA4NH0.yEhFnrwpT10ZIMfPmZV1Y5dXCa34pC52WX9iXOfplz0'; 
            
            const requestData = {
                model: 'openai/gpt-4o-mini',
                messages: [
                    {
                        role: 'user',
                        content: 'معنای زندگی چیست؟'
                    }
                ]
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': Bearer ${apiKey}
                    },
                    body: JSON.stringify(requestData)
                });

                if (!response.ok) {
                    throw new Error(HTTP error! status: ${response.status});
                }

                const data = await response.json();
                const aiResponse = data.choices[0].message.content;
                
                // Display the response on the page
                document.getElementById('response').innerText = aiResponse;
                
                // Also log to console
                console.log(aiResponse);
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('response').innerText = 'Error fetching response: ' + error.message;
            }
        }

        // Call the function when the page loads
        window.onload = getAIResponse;
    </script>
</body>
</html>
